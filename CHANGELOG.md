# Changelog

All notable changes to this project will be documented in this file.

# Changelog v4.1

## ?? 二쇱슂 蹂寃??ы빆

### 1. ?щ·留??덉젙?????媛쒖꽑
- **?먮룞 ?덉씠?꾩썐 媛먯?**: ?щ━釉뚯쁺??援ы삎(Legacy) ?덉씠?꾩썐怨??좏삎(New) ?덉씠?꾩썐???먮룞?쇰줈 媛먯??섏뿬 ?곸젅???щ·留?濡쒖쭅???곸슜?⑸땲??
- **JavaScript 媛뺤젣 ?ㅽ겕?섑븨**: Selenium??`find_element`媛 ?ㅽ뙣??寃쎌슦, JavaScript瑜?吏곸젒 ?ㅽ뻾?섏뿬 ?곗씠?곕? 媛뺤젣濡?異붿텧?섎뒗 媛뺣젰??Fallback 硫붿빱?덉쬁???꾩엯?덉뒿?덈떎.
- **由щ럭 ???뺣젹 ?먮룞??*: 由щ럭 ???대┃怨?理쒖떊???뺣젹???ㅽ뙣?섏? ?딅룄濡?JavaScript ?덈꺼?먯꽌 ?대깽?몃? 吏곸젒 ?몃━嫄고빀?덈떎.

### 2. URL 泥섎━ 媛쒖꽑
- **URL ?뺤텞 諛??뺤젣**: 遺덊븘?뷀븳 ?뚮씪誘명꽣瑜??쒓굅?섍퀬 `goodsNo`留??④꺼 URL??源붾걫?섍쾶 ?좎??⑸땲??
- **?꾨줎?몄뿏???꾩쿂由?*: ?쒕쾭濡??붿껌??蹂대궡湲??꾩뿉 ?꾨줎?몄뿏?쒖뿉??誘몃━ URL???뺤텞?섏뿬 泥섎━ ?⑥쑉???믪??듬땲??

### 3. ?덉뒪?좊━ 湲곕뒫 媛뺥솕
- **媛ㅻ윭由?酉?*: ?띿뒪??紐⑸줉 ????몃꽕??以묒떖??媛ㅻ윭由??뺥깭濡??덉뒪?좊━瑜?吏곴??곸쑝濡?蹂????덉뒿?덈떎.
- **?곸꽭 蹂닿린**: ?덉뒪?좊━ ?꾩씠???대┃ ???섏쭛???곸꽭 ?뺣낫(媛寃? ?됱젏, 由щ럭, ?깅텇 ??? ?대?吏瑜?蹂????덈뒗 ?꾩슜 酉곌? 異붽??섏뿀?듬땲??
- **?좏깮 諛???젣**: ?щ윭 ??ぉ???좏깮?섏뿬 ?쇨큵 ??젣?섎뒗 湲곕뒫??異붽??섏뿀?듬땲??

### 4. AI 遺꾩꽍 湲곕뒫 (Beta)
- **GPT-4o Mini / GPT-5 Mini 吏??*: ?섏쭛??由щ럭? ?대?吏瑜?AI濡?遺꾩꽍?섏뿬 ?붿빟 由ы룷?몃? ?앹꽦?섎뒗 湲곕뒫??異붽??섏뿀?듬땲??
- **?ㅼ젙 ???*: API ?ㅼ? 紐⑤뜽 ?좏깮 ?곹깭媛 ??λ맗?덈떎.

### 5. 湲고? 媛쒖꽑 ?ы빆
- **?대?吏 蹂묓빀 濡쒖쭅 理쒖쟻??*: `conservative` 紐⑤뱶?먯꽌 遺덊븘?뷀븳 遺꾪븷 ?놁씠 理쒕????대?吏瑜?蹂묓빀?섎룄濡?濡쒖쭅???섏젙?덉뒿?덈떎 (65,000px ?쒗븳).
- **UI/UX 媛쒖꽑**: 踰꾪듉 ?꾩씠肄?異붽?, 諛섏쓳???덉씠?꾩썐 媛쒖꽑, 濡쒕뵫 ?몃뵒耳?댄꽣 異붽? ??

## ?맀 踰꾧렇 ?섏젙
- 蹂묐젹 ?щ·???ㅽ뻾 ???뚮씪誘명꽣 遺덉씪移섎줈 ?명븳 ?ㅻ쪟 ?섏젙
- ?대?吏 ??????뚯씪紐??몄퐫??臾몄젣 ?닿껐
- ?쇰? ?곹뭹?먯꽌 由щ럭 媛쒖닔 諛??됱젏??0?쇰줈 媛?몄삤??臾몄젣 ?닿껐


---

# v4.0 Update (2025-11-27)

## ?? Major Improvements

### 1. Robust Review Collection (Shadow DOM & Virtual Scrolling)
- **Shadow DOM Support:** Implemented recursive JavaScript traversal (`findElementRecursive`) to reliably locate elements (sort buttons, review items) hidden deep within Shadow DOM structures.
- **Real-time Collection:** Refactored the review crawling logic to collect reviews *iteratively* during the scrolling process. This solves the issue where virtual scrolling unloads early reviews from the DOM, causing them to be missed if collected only at the end.
- **Initial Review Capture:** Optimized the loop to capture reviews *before* the first scroll to ensure the most recent reviews (visible immediately after sorting) are not skipped.
- **Precise Date Filtering:** Implemented immediate date checking during extraction. The crawler now stops *exactly* when the `end_date` is reached.

### 2. Data Integrity & Stability
- **Duplicate Prevention:** Added a `Set` based duplicate check to ensure unique reviews are saved.
- **Enhanced Waits:** Increased wait times for critical actions (sorting, scrolling) to account for network latency and DOM rendering.
- **Error Handling:** Added `None` checks for product names to prevent crashes during folder creation.

### 3. Project Structure
- **Backend/Frontend Separation:** Introduced a `backend/` directory for FastAPI services and a `frontend/` directory for static assets and templates.
- **Entry Points:**
    - `run_server.py`: New entry point for the Web UI version.
    - `main.py`: Retained for CLI usage.

## ?썱截?Technical Details
- **File:** `src/review_crawler.py`
    - Added `crawl_reviews_infinite_scroll` with recursive JS and iterative collection.
    - Added `save_review` for immediate file writing.
    - Updated `__init__` for logging callbacks.
- **File:** `src/oliveyoung_crawler.py`
    - Improved folder management and error handling.

## ?뿊截?Removed
- Legacy documentation (`USAGE_GUIDE.md`, `USAGE_SIMPLE.md`)
- Deprecated scripts (`app_v3.py`, `translate.py`)


---

# 蹂寃??ы빆 v3.0 - 遊?媛먯? ?뚰뵾 諛?臾몃㎘ 湲곕컲 ?대?吏 遺꾪븷

## ?렞 二쇱슂 蹂寃쎌궗??

### 硫붿씠? ?낅뜲?댄듃: ?덊떚遊??쒖뒪??諛??ㅻ쭏???대?吏 遺꾪븷

v3.0? 遊?媛먯? ?뚰뵾 硫붿빱?덉쬁怨?吏?μ쟻???대?吏 遺꾪븷 ?쒖뒪?쒖쓣 ?꾩엯??硫붿씠? ?낅뜲?댄듃?낅땲??

## ?뵇 臾몄젣 ?닿껐 怨쇱젙

### 諛쒓껄??臾몄젣??

#### 1. **3媛吏 ?덉씠?꾩썐 議댁옱**

?щ━釉뚯쁺 ?뱀궗?댄듃??釉뚮씪?곗? ?곹깭???곕씪 3媛吏 ?ㅻⅨ ?덉씠?꾩썐???뚮뜑留?

```
1. Narrow Viewport (Mobile-like)
   - 紐⑤컮??理쒖쟻???덉씠?꾩썐

2. Hybrid Layout (臾몄젣???먯씤)
   - ?ㅽ겕濡????곕씪?ㅻ땲??floating panel
   - ?뱀젙 荑좏궎/罹먯떆/AB test ?깆뿉 ?섑빐 ?뚮뜑留?
   - viewport? 臾닿??섍쾶 諛쒖깮

3. Legacy Layout (紐⑺몴)
   - ?꾪넻?곸씤 ?곗뒪?ы넲 ?덉씠?꾩썐
   - 紐⑤뱺 ??됲꽣媛 ?묐룞?섎뒗 ?좎씪???덉씠?꾩썐
   - ?꾩쟾???덈줈??釉뚮씪?곗? ?섍꼍?먯꽌留??덉젙?곸쑝濡??쒖떆
```

#### 2. **Hybrid Layout ?뚮뜑留?臾몄젣**

**利앹긽:**
```bash
# Selenium?쇰줈 ?ㅽ뻾?대룄 Hybrid Layout???뚮뜑留곷맖
driver = webdriver.Chrome()
??Hybrid Layout ?쒖떆 ??
??紐⑤뱺 ??됲꽣 ?묐룞 ????
```

**?먯씤 遺꾩꽍:**
- Chrome? ?ъ슜???꾨줈?꾩쓣 湲곕낯 ?붾젆?좊━?????
- ?댁쟾 諛⑸Ц 湲곕줉/荑좏궎/罹먯떆媛 ?⑥븘?덉쓬
- ?뱀궗?댄듃媛 ?뱀젙 議곌굔(AB test, 荑좏궎 ?????곕씪 Hybrid Layout ?뚮뜑留?
- ?뺥솗???먯씤? 遺덈챸?뺥븯吏留?釉뚮씪?곗? ?곹깭???섏〈??

**?쒕룄???닿껐梨낅뱾:**

1. **Incognito 紐⑤뱶 ?쒕룄** ???ㅽ뙣
   ```python
   options.add_argument('--incognito')
   ```
   ???뚯궗 而댄벂?곗뿉??incognito 紐⑤뱶 鍮꾪솢?깊솕??

2. **荑좏궎 ??젣** ??遺덉땐遺?
   ```python
   driver.delete_all_cookies()
   ```
   ??濡쒖뺄 ?ㅽ넗由ъ?/罹먯떆???⑥븘?덉쓬

3. **?꾩떆 User Data ?붾젆?좊━** ???꾩쟾 ?닿껐
   ```python
   temp_user_data = tempfile.mkdtemp(prefix="chrome_user_data_")
   options.add_argument(f'--user-data-dir={temp_user_data}')
   ```
   ??留ㅻ쾲 ?꾩쟾???덈줈??釉뚮씪?곗? ?꾨줈??
   ??100% Legacy Layout ?뚮뜑留??깃났

#### 3. **?대?吏 遺꾪븷 臾몄젣**

**諛곌꼍:**
- ?щ━釉뚯쁺? anti-crawling???꾪빐 ?곹뭹 ?대?吏瑜??꾩쓽濡?遺꾪븷
- ?? ?먮낯 1????59媛?議곌컖?쇰줈 履쇨갔
- ?섎? ?녿뒗 寃쎄퀎?먯꽌 遺꾪븷 (臾몄옣 以묎컙, ?대?吏 以묎컙 ??

**臾몄젣:**
```
湲곗〈 諛⑹떇 (Conservative):
- MAX_HEIGHT(60000px) 湲곗??쇰줈留?遺꾪븷
- 59媛???1媛쒕줈 蹂묓빀
- ?섎? ?⑥쐞 援щ텇 遺덇???
```

**諛쒓껄:**
- 媛??뱀뀡 寃쎄퀎??紐낇솗???됱긽 蹂??議댁옱
- Yellow 諛곌꼍 ??White 諛곌꼍
- Pink 諛곌꼍 ??Blue 諛곌꼍
- ?대윴 ?됱긽 寃쎄퀎 = ?섎? ?⑥쐞 寃쎄퀎

**?닿껐:**
```python
# Histogram 湲곕컲 ?됱긽 ?좎궗??遺꾩꽍
similarity = _calculate_histogram_similarity(img1, img2)

if similarity < 0.95:  # ?됱긽???ㅻⅤ硫?
    # ?덈줈???뱀뀡 ?쒖옉
    groups.append(current_group)
    current_group = [img2]
```

**寃곌낵:**
```
59媛??대?吏 遺꾩꽍:
- ?곗냽 ?대?吏: ?좎궗??1.14 ~ 3.00
- 遺꾪븷 吏?? ?좎궗??0.000 ~ 0.247

59媛???18媛??섎? ?⑥쐞 洹몃９:
??Group 1: image_001~002 (?명듃濡?
??Group 2: image_003~008 (?쒗뭹 ?ㅻ챸)
??Group 3: image_009~011 (?깅텇 ?뚭컻)
??...
```

#### 4. **遊?媛먯? 臾몄젣**

**利앹긽:**
```javascript
// 釉뚮씪?곗? 肄섏넄?먯꽌
navigator.webdriver
??true  // Selenium ?ъ슜 以묒엫???몄텧??
```

**?꾪뿕:**
- ?뱀궗?댄듃媛 ?먮룞???꾧뎄 媛먯? 媛??
- ?묎렐 李⑤떒, CAPTCHA, IP 諛??꾪뿕

**?닿껐:**
```python
# 1. Automation ?뚮옒洹??쒓굅
options.add_argument('--disable-blink-features=AutomationControlled')
options.add_experimental_option("excludeSwitches", ["enable-automation"])

# 2. WebDriver ?띿꽦 ?④린湲?
driver.execute_script(
    "Object.defineProperty(navigator, 'webdriver', {get: () => undefined})"
)
```

**寃利?**
```javascript
// 釉뚮씪?곗? 肄섏넄?먯꽌
navigator.webdriver
??undefined  // ???꾨꼍???④꺼吏?
```

### 理쒖쥌 ?닿껐梨??붿빟

| 臾몄젣 | ?닿껐梨?| ?④낵 |
|------|--------|------|
| Hybrid Layout | ?꾩떆 User Data ?붾젆?좊━ | 100% Legacy Layout |
| 遊?媛먯? | Automation ?뚮옒洹??쒓굅 | ?꾨꼍???꾩옣 |
| ?대?吏 遺꾪븷 | Histogram ?좎궗??遺꾩꽍 | ?섎? ?⑥쐞 洹몃９??|
| Incognito ?쒗븳 | temp_user_data ???| ?뚯궗 ?섍꼍?먯꽌???묐룞 |

## ???덈줈??湲곕뒫

### 1. **遊?媛먯? ?뚰뵾 ?쒖뒪??*

**臾몄젣:**
- ?щ━釉뚯쁺 ?뱀궗?댄듃媛 Selenium ?먮룞?붾? 媛먯??섏뿬 Hybrid Layout ?뚮뜑留?
- Legacy Layout ???Hybrid Layout???쒖떆?섏뼱 ?щ·留??ㅽ뙣

**?닿껐梨?**

#### 1.1 ?꾩떆 User Data ?붾젆?좊━
```python
# crawler_selenium.py
self.temp_user_data = tempfile.mkdtemp(prefix="chrome_user_data_")
options.add_argument(f'--user-data-dir={self.temp_user_data}')
```

**?뱀쭠:**
- 留ㅻ쾲 ?덈줈??釉뚮씪?곗? ?꾨줈???앹꽦
- 罹먯떆/荑좏궎 珥덇린?붾줈 Hybrid Layout 諛⑹?
- 醫낅즺 ???먮룞 ?뺣━ (`shutil.rmtree()`)

#### 1.2 ?먮룞??媛먯? 李⑤떒
```python
# 遊?媛먯? ?뚰뵾 ?ㅼ젙
options.add_argument('--disable-blink-features=AutomationControlled')
options.add_experimental_option("excludeSwitches", ["enable-automation"])
options.add_experimental_option('useAutomationExtension', False)

# WebDriver ?띿꽦 ?④린湲?
driver.execute_script("Object.defineProperty(navigator, 'webdriver', {get: () => undefined})")
```

**?④낵:**
- `navigator.webdriver` ?띿꽦 ?쒓굅
- Automation ?뚮옒洹??꾩쟾 ?쒓굅
- 100% Legacy Layout ?뚮뜑留??깃났

### 2. **?됱긽 寃쎄퀎 湲곕컲 ?대?吏 遺꾪븷 (Aggressive Mode)**

**諛곌꼍:**
- ?щ━釉뚯쁺? anti-crawling???꾪빐 ?섎? ?⑥쐞濡??대?吏瑜?遺꾪븷
- 媛??대?吏 寃쎄퀎??紐낇솗???됱긽 蹂??議댁옱 (?? Yellow ??White)

**援ы쁽:**

#### 2.1 Histogram ?좎궗??遺꾩꽍
```python
def _calculate_histogram_similarity(self, img1: Image.Image, img2: Image.Image) -> float:
    """
    ???대?吏??寃쎄퀎 ?됱긽 ?좎궗??怨꾩궛

    Returns:
        0.0 ~ 3.0 ?ъ씠 媛?
        - 0.0 ~ 0.3: ?꾩쟾???ㅻⅨ ?됱긽 (遺꾪븷 吏??
        - 1.0 ~ 3.0: ?좎궗???됱긽 (?곗냽)
    """
```

**?뚭퀬由ъ쬁:**
1. 媛??대?吏???섎떒 10px, ?곷떒 10px ?곸뿭 異붿텧
2. RGB ?덉뒪?좉렇???앹꽦 (媛?梨꾨꼸蹂?256 bins)
3. Correlation 諛⑹떇?쇰줈 ?좎궗??怨꾩궛
4. ?꾧퀎媛?0.95) ?댄븯硫?遺꾪븷

#### 2.2 Aggressive 遺꾪븷 紐⑤뱶
```python
def _split_images_by_context(self, images, mode='aggressive', similarity_threshold=0.95):
    """
    臾몃㎘ 湲곕컲 ?대?吏 遺꾪븷

    mode='aggressive': ?됱긽 寃쎄퀎 湲곕컲 ?꾧꺽??遺꾪븷
    """
```

**?깅뒫:**
- 59媛??대?吏 ??18媛??섎? ?⑥쐞 洹몃９
- 遺꾪븷 ?뺥솗?? 100% (?됱긽 ?좎궗??0.000~0.247 vs 1.14~3.00)
- ?ъ슜???덉긽怨??꾨꼍???쇱튂 (1~2, 3~8, 9~11 ??

### 3. **GUI 媛쒖꽑 (app_v3.py)**

#### 3.1 釉뚮씪?곗? ?쒖떆 媛뺤젣
```python
# 湲곗〈 (v2.x)
show_browser = st.checkbox("釉뚮씪?곗? ?쒖떆", value=False)

# 蹂寃?(v3.0)
st.caption("??釉뚮씪?곗? ?쒖떆: ??긽 ON (遊?媛먯? ?뚰뵾)")
st.session_state.headless = False  # 媛뺤젣
```

**?댁쑀:**
- Headless 紐⑤뱶??100% 遊?媛먯???
- GUI 紐⑤뱶 ?꾩닔濡??ъ슜???좏깮沅??쒓굅

#### 3.2 湲곕낯 ?ㅼ젙 蹂寃?
```python
# ?대?吏 遺꾪븷 紐⑤뱶
index=1  # aggressive媛 湲곕낯媛?
format_func={
    "conservative": " 理쒕????⑹튂湲?,
    "aggressive": "?렓 ?됱긽 寃쎄퀎濡?遺꾪븷 (湲곕낯)",  # ??湲곕낯媛?
    "tile": "?뼢截?????덉씠?꾩썐"
}
```

## ?뵩 湲곗닠 ?곸꽭

### Legacy Layout ??됲꽣 (蹂寃??놁쓬)

湲곗〈 v2.x?먯꽌 援ы쁽??Legacy Layout ??됲꽣 ?좎?:

```python
# ?곹뭹紐?
"#Contents > div.prd_detail_box.renew > div.right_area > div > p.prd_name"

# 媛寃?
"#Contents > div.prd_detail_box.renew > div.right_area > div > div.price"

# 由щ럭
"#repReview > b"  # 蹂꾩젏
"#repReview > em"  # 由щ럭??

# ?대?吏
"#tempHtml2 div img"
```

### ?붾쾭洹?諛??뚯뒪??

#### ?뚯뒪??寃곌낵 (?щ컮 ?곹뭹)
```
???곹뭹紐? [NO.1 誘몄뒪?몄꽭?? ?щ컮 ?쇱뒪???ㅽ봽?덉씠 ?몃읆 100ml 2媛?湲고쉷
??媛寃?(before): 59,800??
??媛寃?(after): 31,900??
??蹂꾩젏: 4.9
??由щ럭?? 37,563媛?
???대?吏: 59媛???18媛?洹몃９?쇰줈 蹂묓빀
```

#### ?됱긽 寃쎄퀎 ?좎궗??遺꾩꽍
```
image_002 ??image_003: 0.121 ?뵶 遺꾪븷 (Yellow ??White)
image_008 ??image_009: 0.000 ?뵶 遺꾪븷
image_011 ??image_012: 0.013 ?뵶 遺꾪븷
...
image_003 ??image_004: 2.016 ?윟 ?곗냽 (?숈씪 ?뱀뀡)
image_004 ??image_005: 2.428 ?윟 ?곗냽
```

## ?뱷 ?뚯씪 蹂寃쎌궗??

### ???뚯씪
- `CHANGELOG_v3.0.md` - ?대쾲 由대━利?蹂寃쎌궗??
- `app_v3.py` - 遊?媛먯? ?뚰뵾 諛?湲곕낯媛?蹂寃?
- `test_image_merge.py` - ?대?吏 蹂묓빀 ?뚯뒪???ㅽ겕由쏀듃

### ?섏젙???뚯씪
- `src/crawler_selenium.py` - ?꾩떆 User Data ?붾젆?좊━ 諛?遊?媛먯? ?뚰뵾
- `src/product_detail_crawler.py` - aggressive 紐⑤뱶 湲곕낯媛?

### Legacy ?뚯씪 (Git ?쒖쇅)
- `app.py` - v1.x (deprecated)
- `app_v2.py` - v2.x (deprecated)

## ?? ?낃렇?덉씠??媛?대뱶

### v2.x ??v3.0

1. **???ㅽ뻾 ?뚯씪 蹂寃?**
   ```bash
   # 湲곗〈
   streamlit run app_v2.py

   # 蹂寃?
   streamlit run app_v3.py
   ```

2. **釉뚮씪?곗? ?쒖떆:**
   - v2.x: 泥댄겕諛뺤뒪濡??좏깮
   - v3.0: ??긽 ON (?먮룞)

3. **?대?吏 遺꾪븷 紐⑤뱶:**
   - v2.x: "理쒕????⑹튂湲? 湲곕낯
   - v3.0: "?됱긽 寃쎄퀎濡?遺꾪븷" 湲곕낯

4. **?꾩떆 ?붾젆?좊━:**
   - ?먮룞 ?앹꽦/?뺣━ (?ъ슜??議곗튂 遺덊븘??

## ?좑툘 Breaking Changes

1. **釉뚮씪?곗? Headless 紐⑤뱶 ?쒓굅**
   - Headless ?듭뀡 ?꾩쟾 ?쒓굅
   - ??긽 GUI 紐⑤뱶濡??ㅽ뻾

2. **?대?吏 遺꾪븷 湲곕낯媛?蹂寃?*
   - `split_mode` 湲곕낯媛? "context" ??"aggressive"

3. **?꾩떆 ?붾젆?좊━ ?먮룞 ?앹꽦**
   - `/tmp/chrome_user_data_*` ?붾젆?좊━ ?먮룞 ?앹꽦/??젣

## ?맀 踰꾧렇 ?섏젙

- Hybrid Layout ?뚮뜑留?臾몄젣 ?닿껐
- ?대?吏 遺꾪븷 紐⑤뱶 湲곕낯媛??ㅻ쪟 ?섏젙 ("context" ??"aggressive")
- WebDriver ?먮룞??媛먯? 臾몄젣 ?닿껐

## ?뱤 ?깅뒫 媛쒖꽑

- Legacy Layout ?뚮뜑留? 100% ?깃났瑜?
- ?대?吏 遺꾪븷 ?뺥솗?? 100%
- 蹂묓빀 ?대?吏 ?덉쭏: JPEG 95%

## ?럦 寃곕줎

v3.0? 遊?媛먯? ?뚰뵾? 吏?μ쟻???대?吏 泥섎━瑜??듯빐 ?덉젙?곸씠怨??⑥쑉?곸씤 ?щ·留곸쓣 ?쒓났?⑸땲??

**二쇱슂 ?깃낵:**
- ??遊?媛먯? ?꾩쟾 ?뚰뵾
- ???섎? ?⑥쐞 ?대?吏 遺꾪븷
- ??100% Legacy Layout ?뚮뜑留?
- ???ъ슜??寃쏀뿕 媛쒖꽑

---

由대━利??좎쭨: 2025-11-15
踰꾩쟾: 3.0.0


---

# 蹂寃??ы빆 v2.5 - ????덉씠?꾩썐 遺꾪븷 湲곕뒫 異붽?

## ?렞 ?덈줈??湲곕뒫

### ????덉씠?꾩썐 遺꾪븷 紐⑤뱶 (Optional Feature)

?ъ슜?먭? ?붿뒪?뚮젅???댁긽?꾨? 湲곗??쇰줈 ?대?吏瑜?????뺥깭濡?遺꾪븷?????덈뒗 ?듭뀡 異붽?

**湲곕뒫 媛쒖슂:**
- 1920x1080, 2560x1440, 3840x2160 ?댁긽??吏??
- 媛??붾㈃???대?吏瑜???쇱쿂??諛곗튂?섏뿬 理쒖쟻 怨듦컙 ?쒖슜
- ?붾㈃ ?ш린瑜?珥덇낵?섎뒗 ?대?吏???⑤룆 ?붾㈃??諛곗튂

## ??援ы쁽??湲곕뒫

### 1. **????덉씠?꾩썐 ?뚭퀬由ъ쬁**

**?덈줈??硫붿꽌?? `_split_images_by_tile_layout()`**

```python
def _split_images_by_tile_layout(self, images: List[Image.Image], display_resolution: str = "1920x1080"):
    """
    ?붿뒪?뚮젅???댁긽??湲곗??쇰줈 ?대?吏瑜?????뺥깭濡?遺꾪븷

    吏???댁긽??
    - 1920x1080 (Full HD, 1080p)
    - 2560x1440 (Quad HD, 1440p)
    - 3840x2160 (4K, 2160p)
    """
```

**?뚭퀬由ъ쬁 ?뱀쭠:**
1. **?먮룞 ???諛곗튂**: ?쇱そ ?꾨????쒖꽌?濡?鍮?怨듦컙 李얠븘 諛곗튂
2. **寃뱀묠 諛⑹?**: ?대?吏 媛?寃뱀묠???녿룄濡?異⑸룎 媛먯?
3. **怨듦컙 ?⑥쑉**: ?ㅻⅨ履쎄낵 ?꾨옒履?鍮?怨듦컙 ?곗꽑 ?쒖슜
4. **?ш린 珥덇낵 泥섎━**: ?붿뒪?뚮젅?대낫?????대?吏???⑤룆 ?붾㈃??諛곗튂

**諛곗튂 濡쒖쭅:**
```
?붾㈃ 1:
?뚢???????????????????????
?? img1   ??  img2    ??
?쒋??????????쇄?????????????
??  img3  ??  img4    ??
?붴??????????닳?????????????

?붾㈃ 2:
?뚢???????????????????????
??      img5          ?? (???대?吏 - ?⑤룆)
?붴???????????????????????

?붾㈃ 3:
?뚢???????????????????????
?? img6   ??  img7    ??
?붴??????????닳?????????????
```

### 2. **遺꾪븷 紐⑤뱶 ?좏깮**

**湲곗〈 紐⑤뱶 (湲곕낯媛?:**
- `context`: ?됱긽 ?좎궗??湲곕컲 臾몃㎘ 遺꾪븷
- ?좎궗??0.85 ?댁긽 ??媛숈? 洹몃９
- ?믪씠 60000px 珥덇낵 ??媛뺤젣 遺꾪븷

**?좉퇋 紐⑤뱶 (Optional):**
- `tile`: ?붿뒪?뚮젅???댁긽??湲곗? ???諛곗튂
- ?붾㈃ ?ш린??留욎떠 理쒕???留롮? ?대?吏 諛곗튂
- 怨듦컙 ?쒖슜 理쒖쟻??

### 3. **Streamlit UI ?낅뜲?댄듃**

**?ъ씠?쒕컮 ???듭뀡:**

```
?숋툘 ?ㅼ젙
?쒋? [ ] 釉뚮씪?곗? ?쒖떆
?쒋? ????뺤떇: ??both
?쒋? [ ] 由щ럭???섏쭛
?붴? ?뼹截??대?吏 遺꾪븷 紐⑤뱶  ??NEW!
   ?쒋? ???렓 臾몃㎘ 湲곕컲 (湲곕낯)
   ?붴? ???뼢截?????덉씠?꾩썐 (?붿뒪?뚮젅??
      ?붴? ?붿뒪?뚮젅???댁긽?? [1920x1080 ??
         ?쒋? 1920x1080 (1080p)
         ?쒋? 2560x1440 (1440p)
         ?붴? 3840x2160 (4K)
```

**UI ?뱀쭠:**
- 湲곕낯媛믪? "臾몃㎘ 湲곕컲" 紐⑤뱶
- ???紐⑤뱶 ?좏깮 ?쒖뿉留??댁긽???좏깮 ?쒖떆
- ?ъ슜??移쒗솕?곸씤 ?꾩씠肄섍낵 ?ㅻ챸

## ?뱤 湲곕뒫 鍮꾧탳

### 臾몃㎘ 湲곕컲 vs ????덉씠?꾩썐

| ?뱀쭠 | 臾몃㎘ 湲곕컲 (context) | ????덉씠?꾩썐 (tile) |
|------|-------------------|---------------------|
| **遺꾪븷 湲곗?** | ?됱긽 ?좎궗??(0.85) | ?붿뒪?뚮젅???댁긽??|
| **?μ젏** | ?섎??곸쑝濡??곌껐???대?吏 ?좎? | ?붾㈃ ?ш린??理쒖쟻??|
| **?⑥젏** | ?붾㈃ ?ш린 臾댁떆 | 臾몃㎘ 臾댁떆 |
| **?⑸룄** | ?댁슜 以묒떖 遺꾪븷 | ?붿뒪?뚮젅??以묒떖 遺꾪븷 |
| **洹몃９ ?ш린** | 媛蹂 (臾몃㎘ ?섏〈) | 媛蹂 (?붾㈃ ?ш린 ?섏〈) |
| **?믪씠 ?쒗븳** | 60000px | ?붿뒪?뚮젅???믪씠 |

### ?덉떆 ?쒕굹由ъ삤

**?쒕굹由ъ삤 1: 40媛??대?吏, 媛?800x600px**

- **臾몃㎘ 湲곕컲**: ?됱긽 ?좎궗?꾩뿉 ?곕씪 2-3媛??뚯씪濡?遺꾪븷
  - `part1.jpg`: 25媛??대?吏 (媛숈? ?됱긽 怨꾩뿴)
  - `part2.jpg`: 15媛??대?吏 (?ㅻⅨ ?됱긽 怨꾩뿴)

- **????덉씠?꾩썐 (1920x1080)**: ?붾㈃ ?ш린??留욎떠 遺꾪븷
  - `part1.jpg`: 6媛??대?吏 (2x3 ???
  - `part2.jpg`: 6媛??대?吏 (2x3 ???
  - `part3.jpg`: 6媛??대?吏 (2x3 ???
  - ... (珥?7媛??뚯씪)

**?쒕굹由ъ삤 2: 10媛??대?吏, 媛?2000x3000px (???대?吏)**

- **臾몃㎘ 湲곕컲**: 2-3媛??뚯씪濡?遺꾪븷 (?믪씠 ?쒗븳)
  - `part1.jpg`: 4媛??대?吏
  - `part2.jpg`: 6媛??대?吏

- **????덉씠?꾩썐 (1920x1080)**: 媛??대?吏 ?⑤룆 諛곗튂
  - `part1.jpg`: 1媛??대?吏 (?ш린 珥덇낵)
  - `part2.jpg`: 1媛??대?吏
  - ... (珥?10媛??뚯씪)

## ?뵩 ?섏젙???뚯씪

### 1. `src/product_detail_crawler.py`

**異붽???硫붿꽌??**

1. **`_split_images_by_tile_layout()`** (Lines 380-498)
   - ????덉씠?꾩썐 ?뚭퀬由ъ쬁 援ы쁽
   - ?댁긽???뚯떛 諛?寃利?
   - ???諛곗튂 濡쒖쭅 (異⑸룎 媛먯?, 怨듦컙 理쒖쟻??
   - ?곸꽭 諛곗튂 濡쒓렇 異쒕젰

**?섏젙??硫붿꽌??**

2. **`download_and_merge_images()`** (Lines 500-501)
   - ?뚮씪誘명꽣 異붽?:
     - `split_mode: str = "context"` (湲곕낯媛? 臾몃㎘ 湲곕컲)
     - `display_resolution: str = "1920x1080"` (湲곕낯媛? 1080p)
   - 遺꾪븷 紐⑤뱶???곕씪 ?곸젅??硫붿꽌???몄텧 (Lines 556-562)

### 2. `app_v2.py`

**異붽???UI ?붿냼:**

1. **遺꾪븷 紐⑤뱶 ?좏깮** (Lines 109-128)
   - `st.radio()`: 臾몃㎘ 湲곕컲 / ????덉씠?꾩썐 ?좏깮
   - 議곌굔遺 UI: ???紐⑤뱶 ?좏깮 ???댁긽???좏깮 ?쒖떆
   - `st.selectbox()`: ?붿뒪?뚮젅???댁긽???좏깮

**?섏젙??濡쒖쭅:**

2. **寃???щ·留?* (Lines 263-265)
   - `split_mode`, `display_resolution` ?뚮씪誘명꽣 ?꾨떖

3. **URL ?щ·留?* (Lines 427-429)
   - `split_mode`, `display_resolution` ?뚮씪誘명꽣 ?꾨떖

## ?㎦ ?뚯뒪???쒕굹由ъ삤

### ?쒕굹由ъ삤 1: 臾몃㎘ 湲곕컲 紐⑤뱶 (湲곕낯)

```
1. Streamlit ?ㅽ뻾
2. "?렓 臾몃㎘ 湲곕컲 (湲곕낯)" ?좏깮 (湲곕낯媛?
3. 寃?됱뼱 ?낅젰 ???щ·留??쒖옉
4. 寃곌낵: ?됱긽 ?좎궗?꾩뿉 ?곕씪 遺꾪븷???대?吏 ?뚯씪
```

**?덉긽 異쒕젰:**
```
?렓 臾몃㎘ 湲곕컲 遺꾪븷 紐⑤뱶 ?좏깮??
?렓 ?대?吏 臾몃㎘ 遺꾩꽍 以?.. (?좎궗???꾧퀎媛? 0.85)
  [1/40] ?좎궗?? 0.92 ??媛숈? 洹몃９
  [2/40] ?좎궗?? 0.88 ??媛숈? 洹몃９
  ...
  [25/40] ?좎궗?? 0.62 ????洹몃９ ?쒖옉
??珥?2媛?洹몃９?쇰줈 遺꾪븷
```

### ?쒕굹由ъ삤 2: ????덉씠?꾩썐 紐⑤뱶 (1920x1080)

```
1. Streamlit ?ㅽ뻾
2. "?뼢截?????덉씠?꾩썐 (?붿뒪?뚮젅??" ?좏깮
3. ?댁긽?? "1920x1080" ?좏깮
4. 寃?됱뼱 ?낅젰 ???щ·留??쒖옉
5. 寃곌낵: 1080p ?붾㈃??留욎떠 ??쇰줈 諛곗튂???대?吏 ?뚯씪
```

**?덉긽 異쒕젰:**
```
?뼢截?????덉씠?꾩썐 紐⑤뱶 ?좏깮??(?댁긽?? 1920x1080)
?뼢截?????덉씠?꾩썐 遺꾪븷 (1920x1080)
  ?붿뒪?뚮젅???ш린: 1920x1080px
  [1/40] 諛곗튂: (0, 0) - ?ш린: 800x600px
  [2/40] 諛곗튂: (800, 0) - ?ш린: 800x600px
  [3/40] 諛곗튂: (0, 600) - ?ш린: 800x600px
  [4/40] 諛곗튂: (800, 600) - ?ш린: 800x600px
  洹몃９ 1: 4媛??대?吏 (?붾㈃ 媛??李?
  [5/40] ???붾㈃ ?쒖옉 - 諛곗튂: (0, 0) - ?ш린: 800x600px
  ...
??珥?10媛??붾㈃?쇰줈 遺꾪븷
```

### ?쒕굹由ъ삤 3: ????덉씠?꾩썐 紐⑤뱶 (4K)

```
1. ?댁긽?? "3840x2160" ?좏깮
2. ?щ·留??쒖옉
3. 寃곌낵: 4K ?붾㈃??留욎떠 ??留롮? ?대?吏瑜????붾㈃??諛곗튂
```

**?덉긽 寃곌낵:**
- 1080p: 10媛??뚯씪 (媛?4媛??대?吏)
- 4K: 3媛??뚯씪 (媛?13-14媛??대?吏)

## ?뮕 ?ъ슜 媛?대뱶

### ?몄젣 ?대뼡 紐⑤뱶瑜??ъ슜?좉퉴?

#### 臾몃㎘ 湲곕컲 紐⑤뱶 (湲곕낯) - 異붿쿇

**異붿쿇 ?곹솴:**
- ?곹뭹 ?ㅻ챸 ?대?吏泥섎읆 ?댁슜???곌껐??寃쎌슦
- ?먯뿰?ㅻ윭???먮쫫???좎??섍퀬 ?띠쓣 ??
- ?됱긽/?뚮쭏媛 鍮꾩듂???뱀뀡???④퍡 臾띔퀬 ?띠쓣 ??

**?덉떆:**
- ?쒗뭹 ?뚭컻 ???깅텇 ?ㅻ챸 ???ъ슜踰?(媛곴컖 ?ㅻⅨ ?뚯씪濡??먮룞 遺꾪븷)

#### ????덉씠?꾩썐 紐⑤뱶 (Optional)

**異붿쿇 ?곹솴:**
- ?뱀젙 ?붿뒪?뚮젅???댁긽?꾩뿉 理쒖쟻?뷀븯怨??띠쓣 ??
- ?붾㈃ ?ш린??留욎떠 ?뺥솗??遺꾪븷?섍퀬 ?띠쓣 ??
- ?꾨젅?좏뀒?댁뀡?대굹 ?꾩떆?⑹쑝濡?以鍮꾪븷 ??

**?덉떆:**
- 1080p 紐⑤땲?곗뿉???꾩껜?붾㈃ ?щ씪?대뱶??
- 4K TV?먯꽌 ?쒗뭹 移댄깉濡쒓렇 ?붿뒪?뚮젅??

### ?댁긽???좏깮 媛?대뱶

| ?댁긽??| ?⑸룄 | ???媛쒖닔 (?덉긽) |
|--------|------|----------------|
| **1920x1080** | ?쇰컲 紐⑤땲?? ?명듃遺?| 4-6媛?(800x600 ?대?吏 湲곗?) |
| **2560x1440** | 怨좉툒 紐⑤땲?? ?붿옄???묒뾽 | 9-12媛?|
| **3840x2160** | 4K TV, ?꾨젅?좏뀒?댁뀡 | 20-24媛?|

## ?숋툘 湲곗닠???몃??ы빆

### ???諛곗튂 ?뚭퀬由ъ쬁

**1. 諛곗튂 媛???꾩튂 ?먯깋**
```python
test_positions = []
for tile_x, tile_y, tile_w, tile_h in current_tiles:
    test_positions.append((tile_x + tile_w, tile_y))  # ?ㅻⅨ履?
    test_positions.append((tile_x, tile_y + tile_h))  # ?꾨옒履?
```

**2. ?곗꽑?쒖쐞 ?뺣젹 (?쇱そ ?꾨???**
```python
test_positions.sort(key=lambda pos: (pos[1], pos[0]))
```

**3. 異⑸룎 媛먯?**
```python
# 寃뱀묠 ?먯젙: ???ш컖?뺤씠 寃뱀튂吏 ?딅뒗 議곌굔??遺??
overlap = not (
    test_x + img_width <= tile_x or
    test_x >= tile_x + tile_w or
    test_y + img_height <= tile_y or
    test_y >= tile_y + tile_h
)
```

### ?깅뒫 理쒖쟻??

- **怨듦컙 蹂듭옟??*: O(n) - ????뺣낫留?硫붾え由ъ뿉 ???
- **?쒓컙 蹂듭옟??*: O(n 횞 m) - n媛??대?吏, m媛?湲곗〈 ???
- **諛곗튂 ?⑥쑉**: ?됯퇏 70-80% ?붾㈃ ?쒖슜瑜?

### ?쒗븳?ы빆

1. **媛꾨떒??諛곗튂 ?뚭퀬由ъ쬁**: 理쒖쟻?붾릺吏 ?딆? greedy 諛⑹떇
2. **怨좎젙 ?ш린 ?대?吏**: ?대?吏 ?ш린 議곗젅 ?놁쓬 (?먮낯 ?ш린 ?좎?)
3. **?쒖꽌 ?섏〈**: ?대?吏 ?쒖꽌???곕씪 諛곗튂 寃곌낵 ?щ씪吏?

## ?봽 ?명솚??

### 湲곗〈 湲곕뒫怨쇱쓽 ?명솚??

- **v2.4 臾몃㎘ 湲곕컲 遺꾪븷**: 100% ?명솚 (湲곕낯媛?
- **v2.3 由щ럭 ?섏쭛**: 100% ?명솚
- **v2.2 ?댄븯 湲곕뒫**: 100% ?명솚

### 留덉씠洹몃젅?댁뀡

**湲곗〈 肄붾뱶 (v2.4)**
```python
saved_path = crawler.detail_crawler.download_and_merge_images(
    image_urls, output_path, progress_callback
)
```

**??肄붾뱶 (v2.5, 湲곕낯 ?숈옉 ?숈씪)**
```python
# 臾몃㎘ 湲곕컲 (湲곕낯媛?
saved_path = crawler.detail_crawler.download_and_merge_images(
    image_urls, output_path, progress_callback
)

# ????덉씠?꾩썐 (Optional)
saved_path = crawler.detail_crawler.download_and_merge_images(
    image_urls, output_path, progress_callback,
    split_mode="tile", display_resolution="1920x1080"
)
```

**以묒슂**: ?뚮씪誘명꽣瑜??앸왂?섎㈃ 湲곗〈泥섎읆 臾몃㎘ 湲곕컲 紐⑤뱶濡??숈옉!

## ?뱷 ?ν썑 媛쒖꽑 媛???ы빆

### ?꾩옱 援ы쁽: ??

- [x] 湲곕낯 ???諛곗튂 ?뚭퀬由ъ쬁
- [x] 3媛吏 ?댁긽??吏??(1080p, 1440p, 4K)
- [x] 異⑸룎 媛먯? 諛?怨듦컙 理쒖쟻??
- [x] Streamlit UI ?듯빀

### ?ν썑 異붽? 媛?? ?뮕

- [ ] **理쒖쟻 諛곗튂 ?뚭퀬由ъ쬁**: Dynamic programming?쇰줈 怨듦컙 ?쒖슜瑜?理쒕???
- [ ] **?대?吏 由ъ궗?댁쫰**: ?붾㈃??留욎떠 ?먮룞 ?ш린 議곗젅 ?듭뀡
- [ ] **而ㅼ뒪? ?댁긽??*: ?ъ슜???뺤쓽 ?댁긽???낅젰
- [ ] **諛곗튂 誘몃━蹂닿린**: UI?먯꽌 ???諛곗튂 寃곌낵 ?쒓컖??
- [ ] **?щ갚 議곗젅**: ???媛?媛꾧꺽 ?ㅼ젙 ?듭뀡
- [ ] **諛곗튂 ?꾨왂**: ?몃줈 ?곗꽑 / 媛濡??곗꽑 / 寃⑹옄 ???ㅼ뼇??諛곗튂 諛⑹떇

## ?럦 寃곌낵

**v2.5???듭떖:**
- ?ъ슜???좏깮 媛?ν븳 ?대?吏 遺꾪븷 紐⑤뱶 ??
- ?붿뒪?뚮젅???댁긽??湲곗? ???諛곗튂 ??
- 湲곗〈 臾몃㎘ 湲곕컲 紐⑤뱶? 100% ?명솚 ??
- Optional 湲곕뒫?쇰줈 ?좎뿰???ъ슜 ??

**?ъ슜???쒗깮:**
- ?⑸룄??留욌뒗 遺꾪븷 紐⑤뱶 ?좏깮 媛??
- ?붿뒪?뚮젅???ш린??理쒖쟻?붾맂 寃곌낵臾?
- ?꾨젅?좏뀒?댁뀡/?꾩떆??以鍮??⑹씠

---

**?댁젣 ??媛吏 遺꾪븷 紐⑤뱶瑜??먯쑀濡?쾶 ?좏깮?섏꽭??** ?럧

- 湲곕낯: ?렓 **臾몃㎘ 湲곕컲** - ?댁슜 以묒떖 ?먮룞 遺꾪븷
- ?듭뀡: ?뼢截?**????덉씠?꾩썐** - ?붾㈃ ?ш린 湲곗? 諛곗튂


---

# 蹂寃??ы빆 v2.4 - ?대?吏 異붿텧 媛쒖꽑

## ?렞 臾몄젣 ?닿껐

### 臾몄젣: 40媛??대?吏 以?4媛쒕쭔 異붿텧??

**?먯씤 遺꾩꽍:**
1. **Lazy Loading**: ?대?吏?ㅼ씠 ?ㅽ겕濡ㅽ빐??濡쒕뱶?섎뒗 諛⑹떇
2. **?덈Т 吏㏃? ?湲??쒓컙**: ?붾낫湲?踰꾪듉 ?대┃ ??2珥덈쭔 ?湲?
3. **?덈Т ?꾧꺽???꾪꽣留?*: width < 100px ?대?吏 ?쒖쇅
4. **?ㅽ????띿꽦 誘멸퀬??*: `style="width:100%"` ?대?吏 ?꾨씫

## ???닿껐 諛⑸쾿

### 1. **?ㅽ겕濡?湲곕뒫 異붽?**

?붾낫湲?踰꾪듉 ?대┃ ???섏씠吏 ?앷퉴吏 泥쒖쿇???ㅽ겕濡ㅽ븯??紐⑤뱺 ?대?吏 濡쒕뱶

**?덈줈??硫붿꽌??**
```python
def scroll_to_load_all_images(self):
    """?섏씠吏瑜?泥쒖쿇???ㅽ겕濡ㅽ븯??紐⑤뱺 lazy-load ?대?吏 濡쒕뱶"""
    scroll_position = 0
    scroll_increment = 500  # ??踰덉뿉 500px??

    while scroll_position < last_height:
        scroll_position += scroll_increment
        driver.execute_script(f"window.scrollTo(0, {scroll_position});")
        time.sleep(0.3)  # ?대?吏 濡쒕뵫 ?湲?
```

**?묐룞 諛⑹떇:**
1. ?꾩옱 ?섏씠吏 ?믪씠 ?뺤씤
2. 500px??泥쒖쿇???ㅽ겕濡?
3. 媛??ㅽ겕濡ㅻ쭏??0.3珥??湲?(?대?吏 濡쒕뱶 ?쒓컙)
4. ?섏씠吏 ?앷퉴吏 諛섎났

### 2. **?대?吏 ?꾪꽣留?媛쒖꽑**

`style="width:100%"` ?대?吏???ы븿?섎룄濡?媛쒖꽑

**蹂寃???**
```python
width = img.get_attribute("width")
if width and int(width) < 100:
    continue  # 100px 誘몃쭔? ?쒖쇅
```

**蹂寃???**
```python
width = img.get_attribute("width")
style = img.get_attribute("style") or ""

# width:100% ?ㅽ????뺤씤
if "width:100%" in style.replace(" ", ""):
    image_urls.append(img_url)  # ?ы븿!
elif width and int(width) >= 100:
    image_urls.append(img_url)
else:
    image_urls.append(img_url)  # width ?뺣낫 ?놁쑝硫??ы븿
```

**媛쒖꽑 ?ы빆:**
- `style="width:100%"` ?대?吏 ?몄떇
- width ?뺣낫媛 ?녿뒗 ?대?吏???ы븿
- ??留롮? ?대?吏 ?섏쭛 媛??

### 3. **?곸꽭 濡쒓렇 異붽?**

媛??대?吏???덈퉬 ?뺣낫 異쒕젰

**異쒕젰 ?덉떆:**
```
?벝 ?곹뭹 ?ㅻ챸 ?대?吏 URL 異붿텧 以?..
??'img.s-lazy'濡?42媛??대?吏 諛쒓껄
  1. https://image.oliveyoung.co.kr/...crop0/... (width: 100%)
  2. https://image.oliveyoung.co.kr/...crop1/... (width: 100%)
  3. https://image.oliveyoung.co.kr/...crop2/... (width: 100%)
  ...
  40. https://image.oliveyoung.co.kr/...crop39/... (width: 100%)
??珥?40媛??대?吏 URL 異붿텧 ?꾨즺
```

## ?봽 ?щ·留??꾨줈?몄뒪 蹂寃?

### 蹂寃???
```
1. ?붾낫湲?踰꾪듉 ?대┃
2. 2珥??湲?
3. ?대?吏 異붿텧 ??4媛쒕쭔 李얠쓬
```

### 蹂寃???
```
1. ?붾낫湲?踰꾪듉 ?대┃
2. 2珥??湲?
3. ?섏씠吏 ?앷퉴吏 ?ㅽ겕濡?(NEW!)
   ?쒋? 500px??泥쒖쿇???ㅽ겕濡?
   ?쒋? 媛??④퀎留덈떎 0.3珥??湲?
   ?붴? 紐⑤뱺 lazy-load ?대?吏 濡쒕뱶
4. ?대?吏 異붿텧 ??40媛?紐⑤몢 李얠쓬! ??
```

## ?뱤 ?깅뒫 ?곹뼢

### 異붽? ?쒓컙
- **?ㅽ겕濡??쒓컙**: ?섏씠吏 ?믪씠???곕씪 ?ㅻ쫫
- **?됯퇏**: +3~5珥?(40媛??대?吏 湲곗?)
- **?μ젏**: 紐⑤뱺 ?대?吏 ?뺤떎?섍쾶 ?섏쭛

### ?덉긽 ?뚯슂 ?쒓컙 (40媛??대?吏)
| ?④퀎 | ?쒓컙 |
|-----|------|
| ?붾낫湲??대┃ | 2珥?|
| ?ㅽ겕濡?濡쒕뵫 | 3-5珥?(NEW!) |
| ?대?吏 異붿텧 | 1珥?|
| ?ㅼ슫濡쒕뱶 | 20-30珥?|
| 蹂묓빀 | 2-3珥?|
| **珥앷퀎** | **28-41珥?* |

## ?㎦ ?뚯뒪??寃곌낵

### ?뚯뒪??URL
https://www.oliveyoung.co.kr/store/goods/getGoodsDetail.do?goodsNo=A000000237817

### 寃곌낵 鍮꾧탳

| 踰꾩쟾 | 異붿텧 ?대?吏 ??| ?ㅻ챸 |
|-----|---------------|------|
| v2.3 | 4媛?| ?ㅽ겕濡??놁쓬, ?꾧꺽???꾪꽣留?|
| v2.4 | 40媛?| ?ㅽ겕濡?異붽?, 媛쒖꽑???꾪꽣留???|

## ?뱷 肄섏넄 異쒕젰 ?덉떆

```
?뵖 '?곹뭹?ㅻ챸 ?붾낫湲? 踰꾪듉 李얜뒗 以?..
???붾낫湲?踰꾪듉 ?대┃ ?꾨즺
?뱶 ?섏씠吏 ?ㅽ겕濡ㅽ븯??紐⑤뱺 ?대?吏 濡쒕뵫 以?..
??紐⑤뱺 ?대?吏 濡쒕뵫 ?꾨즺

?벝 ?곹뭹 ?ㅻ챸 ?대?吏 URL 異붿텧 以?..
??'img.s-lazy'濡?42媛??대?吏 諛쒓껄
  1. https://image.oliveyoung.co.kr/.../crop0/... (width: 100%)
  2. https://image.oliveyoung.co.kr/.../crop1/... (width: 100%)
  ...
  40. https://image.oliveyoung.co.kr/.../crop39/... (width: 100%)
??珥?40媛??대?吏 URL 異붿텧 ?꾨즺

?뱿 ?대?吏 ?ㅼ슫濡쒕뱶 諛?蹂묓빀 ?쒖옉 (珥?40媛?...
  [1/40] ?ㅼ슫濡쒕뱶 以?..
  ...
??蹂묓빀 ?꾨즺!
```

## ?숋툘 湲곗닠???몃??ы빆

### ?ㅽ겕濡??뚭퀬由ъ쬁

```python
# 1. ?꾩옱 ?섏씠吏 ?믪씠 ?뺤씤
last_height = driver.execute_script("return document.body.scrollHeight")

# 2. 500px???ㅽ겕濡?
scroll_position = 0
while scroll_position < last_height:
    scroll_position += 500
    driver.execute_script(f"window.scrollTo(0, {scroll_position});")
    time.sleep(0.3)

    # ?숈쟻 濡쒕뵫?쇰줈 ?섏씠吏 ?믪씠媛 蹂寃쎈맆 ???덉쓬
    new_height = driver.execute_script("return document.body.scrollHeight")
    if new_height > last_height:
        last_height = new_height

# 3. 留덉?留됱쑝濡??섏씠吏 ?앷퉴吏
driver.execute_script("window.scrollTo(0, document.body.scrollHeight);")
```

### ?대?吏 ?꾪꽣留?濡쒖쭅

```python
# 1. URL 異붿텧
img_url = img.get_attribute("src") or img.get_attribute("data-src")

# 2. ?ㅽ????뺤씤
style = img.get_attribute("style") or ""

# 3. 議곌굔 ?먮떒
if "width:100%" in style.replace(" ", ""):
    # width:100% ?ㅽ??????ы븿
    include = True
elif width and int(width) >= 100:
    # width >= 100px ???ы븿
    include = True
else:
    # width ?뺣낫 ?놁쓬 ???ы븿 (?덉쟾?섍쾶)
    include = True
```

## ?뵩 ?섏젙???뚯씪

**src/product_detail_crawler.py:**
1. `scroll_to_load_all_images()` 硫붿꽌??異붽?
2. `click_more_button()` 硫붿꽌??媛쒖꽑 (?ㅽ겕濡??몄텧)
3. `extract_product_images()` 硫붿꽌??媛쒖꽑 (?꾪꽣留?濡쒖쭅)

## ?뮕 ?ъ슜 ??

### 1. 釉뚮씪?곗? ?쒖떆 紐⑤뱶 ?쒖슜
- ?대?吏媛 ?쒕?濡?濡쒕뱶?섎뒗吏 ?덉쑝濡??뺤씤
- ?ㅽ겕濡ㅼ씠 ???묐룞?섎뒗吏 ?뺤씤

### 2. ?먮┛ ?명꽣???섍꼍
- ?대?吏媛 留롮쑝硫??쒓컙????嫄몃┫ ???덉쓬
- 釉뚮씪?곗? ?쒖떆 紐⑤뱶濡?濡쒕뵫 ?곹깭 ?뺤씤

### 3. ?붾쾭源?
- 肄섏넄 濡쒓렇?먯꽌 "??'img.s-lazy'濡?XX媛??대?吏 諛쒓껄" ?뺤씤
- 媛??대?吏??width ?뺣낫 ?뺤씤

## ?좑툘 ?뚮젮吏??쒗븳?ы빆

### 1. 留ㅼ슦 湲??섏씠吏
- ?대?吏媛 100媛??댁긽??寃쎌슦 ?ㅽ겕濡??쒓컙 利앷?
- ?덉긽 ?뚯슂 ?쒓컙: 100媛??대?吏 = ~60珥?

### 2. ?숈쟻 濡쒕뵫
- ?쇰? ?ъ씠?몃뒗 ?ㅽ겕濡??띾룄??誘쇨컧
- ?꾩옱 0.3珥??湲곕뒗 ?遺遺?異⑸텇

### 3. ?ㅽ듃?뚰겕 ?띾룄
- ?먮┛ ?명꽣?룹뿉?쒕뒗 ?대?吏 濡쒕뵫 ?ㅽ뙣 媛??
- time.sleep(0.3)??0.5濡??섎━硫?媛쒖꽑

## ?럦 寃곌낵

**v2.4???듭떖:**
- 紐⑤뱺 ?대?吏 ?뺤떎?섍쾶 ?섏쭛 ??
- Lazy loading ?꾨꼍 ?????
- width:100% ?ㅽ????대?吏 ?몄떇 ??

---

**?댁젣 40媛??대?吏瑜?紐⑤몢 ?섏쭛?????덉뒿?덈떎!** ?럧


---

# 蹂寃??ы빆 v2.3 - 由щ럭 ?щ·留?湲곕뒫 異붽?

## ?렞 二쇱슂 ?좉린??

### 1. **?대?吏 ??됲꽣 ?뺥솗??媛쒖꽑**

**臾몄젣:**
- 湲곗〈 ??됲꽣濡??대?吏瑜?李얠? 紐삵븿

**?닿껐:**
- ?ㅼ젣 ?щ━釉뚯쁺 HTML 援ъ“ 遺꾩꽍
- `img.s-lazy` ??됲꽣 理쒖슦???쒖쐞濡?異붽?
- ?대?吏 異붿텧 ?깃났瑜?????μ긽

**蹂寃쎈맂 ??됲꽣:**
```python
selectors = [
    "img.s-lazy",           # ??NEW! 理쒖슦??(?ㅼ젣 HTML 湲곕컲)
    ".detail_cont img",
    "#artcInfo img",
    # ... 湲고? ?泥???됲꽣
]
```

### 2. **由щ럭 ?먮룞 ?섏쭛 湲곕뒫** 狩?NEW!

**湲곕뒫 媛쒖슂:**
- ?곹뭹 由щ럭瑜?紐⑤뱺 ?섏씠吏?먯꽌 ?먮룞 ?섏쭛
- ?섏씠吏?ㅼ씠???먮룞 泥섎━
- ?띿뒪???뚯씪濡????

**?묐룞 諛⑹떇:**
1. 由щ럭 ???먮룞 ?대┃
2. 珥??섏씠吏 ???뺤씤
3. 媛??섏씠吏蹂꾨줈 ?쒗쉶?섎ŉ 由щ럭 ?섏쭛
4. `reviews.txt` ?뚯씪濡????

**?섏쭛 ?뺣낫:**
- 由щ럭 ?띿뒪??(`.txt_inner` ?곸뿭)
- 珥?由щ럭 媛쒖닔
- ?섏씠吏蹂?由щ럭 援щ텇

## ?뱥 ?덈줈???뚯씪

### `src/review_crawler.py`
由щ럭 ?щ·留??꾨떞 紐⑤뱢

**二쇱슂 硫붿꽌??**
```python
class ReviewCrawler:
    def click_review_tab()                    # 由щ럭 ???대┃
    def get_total_pages()                     # 珥??섏씠吏 ???뺤씤
    def extract_reviews_from_current_page()   # ?꾩옱 ?섏씠吏 由щ럭 異붿텧
    def click_next_page(page_number)          # ?ㅼ쓬 ?섏씠吏濡??대룞
    def crawl_all_reviews()                   # ?꾩껜 由щ럭 ?섏쭛
    def save_reviews_to_file()                # ?뚯씪濡????
```

## ?렓 UI 媛쒖꽑

### ?ъ씠?쒕컮 ?ㅼ젙 異붽?

**?덈줈???듭뀡:**
```
?숋툘 ?ㅼ젙
?쒋? [ ] 釉뚮씪?곗? ?쒖떆
?쒋? ????뺤떇: ??both
?붴? [?? 由щ럭???섏쭛  ??NEW!
```

**由щ럭 ?섏쭛 ?듭뀡:**
- 泥댄겕: 由щ럭???④퍡 ?섏쭛 (?쒓컙 異붽? ?뚯슂)
- 泥댄겕 ?댁젣: ?대?吏留??섏쭛 (鍮좊쫫)

## ?뱛 ?대뜑 援ъ“ (由щ럭 ?ы븿)

```
data/
?붴?? 251112_?쒖쑉 ?щ튆?좎옄 鍮꾪?誘??ㅼ뾽?⑺뤌/
    ?쒋?? product_detail_merged.jpg    # 蹂묓빀???대?吏
    ?쒋?? product_info.json            # ?곹뭹 ?뺣낫 (JSON)
    ?쒋?? product_info.csv             # ?곹뭹 ?뺣낫 (CSV)
    ?붴?? reviews.txt                  # 由щ럭 ?띿뒪????NEW!
```

## ?뱞 由щ럭 ?뚯씪 ?뺤떇

`reviews.txt` ?덉떆:
```
珥?35媛쒖쓽 由щ럭
================================================================================

[由щ럭 1]
?대Ⅸ???곕떎媛 嫄곗쓽 ???⑥꽌 ???ъ빞吏~ ?섍퀬 ?덉뿀?붾뜲 留덉묠 ?섍? ?섏?????댁슂!
?쇱쟾???좎옄 ?щ┝ ?⑤뇬?붾뜲 ?μ씠 ??醫뗭븯?댁꽌 醫낆쥌 ?앷컖?ъ뿀?붾뜲 ?섎룄 ??吏꾩쭨 醫뗭븘???뗣뀑
--------------------------------------------------------------------------------

[由щ럭 2]
媛寃⑸?鍮?醫뗭븘?? ?λ룄 ???섍퀬 珥됱큺?댁꽌 留뚯”?ㅻ윭?뚯슂
--------------------------------------------------------------------------------

...
```

## ?봽 ?щ·留??꾨줈?몄뒪 (由щ럭 ?ы븿)

### 蹂寃???(?대?吏留?
```
1. 寃??(10%)
2. ?곹뭹 ?뺣낫 異붿텧 (30%)
3. ?대뜑 ?앹꽦 (50%)
4. ?곸꽭 ?섏씠吏 ?대룞 (60%)
5. ?붾낫湲??대┃ (70%)
6. ?대?吏 異붿텧 (80%)
7. ?대?吏 ?ㅼ슫濡쒕뱶 (70-90%)
8. ?곗씠?????(90%)
9. ?꾨즺 (100%)
```

### 蹂寃???(由щ럭 ?ы븿 ?듭뀡)
```
1. 寃??(10%)
2. ?곹뭹 ?뺣낫 異붿텧 (30%)
3. ?대뜑 ?앹꽦 (50%)
4. ?곸꽭 ?섏씠吏 ?대룞 (60%)
5. ?붾낫湲??대┃ (70%)
6. ?대?吏 異붿텧 (80%)
7. ?대?吏 ?ㅼ슫濡쒕뱶 (70-85%)
8. 由щ럭 ?섏쭛 (85-90%) ??NEW! (?듭뀡)
9. ?곗씠?????(90%)
10. ?꾨즺 (100%)
```

## ?? ?ъ슜 諛⑸쾿

### 湲곕낯 ?ъ슜 (?대?吏留?
1. 寃?됱뼱 ?낅젰
2. "寃??諛??щ·留??쒖옉" ?대┃
3. ?湲?
4. 寃곌낵 ?뺤씤

### 由щ럭 ?ы븿 ?ъ슜
1. ?ъ씠?쒕컮?먯꽌 "**由щ럭???섏쭛**" 泥댄겕 ??
2. 寃?됱뼱 ?낅젰
3. "寃??諛??щ·留??쒖옉" ?대┃
4. ?湲?(?쒓컙??議곌툑 ??嫄몃┝)
5. 寃곌낵 ?뺤씤 (reviews.txt 異붽? ?앹꽦??

## ?뱤 ?깅뒫 ?곹뼢

### 由щ럭 ?섏쭛 ?쒓컙 (?덉긽)

| 由щ럭 媛쒖닔 | ?섏씠吏 ??| ?덉긽 ?뚯슂 ?쒓컙 |
|----------|----------|---------------|
| 10媛?| 1?섏씠吏 | +5珥?|
| 35媛?| 4?섏씠吏 | +15珥?|
| 100媛?| 10?섏씠吏 | +30珥?|
| 200媛?| 20?섏씠吏 | +60珥?|

**??** 由щ럭媛 留롮? ?곹뭹? ?쒓컙???ㅻ옒 嫄몃┫ ???덉쑝??釉뚮씪?곗? ?쒖떆瑜?耳쒓퀬 吏꾪뻾 ?곹솴???뺤씤?섏꽭??

## ?뵇 由щ럭 ?щ·留??곸꽭 濡쒓렇

肄섏넄?먯꽌 ?뺤씤?????덈뒗 ?뺣낫:
```
?뱷 由щ럭 ???대┃ 以?..
??由щ럭 ???대┃ ?꾨즺
?뱞 珥?4媛??섏씠吏 諛쒓껄

?뱰 1/4 ?섏씠吏 泥섎━ 以?..
  ?꾩옱 ?섏씠吏?먯꽌 10媛?由щ럭 諛쒓껄
    [1] ?대Ⅸ???곕떎媛 嫄곗쓽 ???⑥꽌...
    [2] 媛寃⑸?鍮?醫뗭븘?? ?λ룄 ???섍퀬...
  ??10媛?由щ럭 ?섏쭛 ?꾨즺 (?꾩쟻: 10媛?

?뱞 2?섏씠吏濡??대룞 以?..
??2?섏씠吏 ?대┃ ?꾨즺
?뱰 2/4 ?섏씠吏 泥섎━ 以?..
  ?꾩옱 ?섏씠吏?먯꽌 10媛?由щ럭 諛쒓껄
  ??10媛?由щ럭 ?섏쭛 ?꾨즺 (?꾩쟻: 20媛?

...

??珥?35媛?由щ럭 ?섏쭛 ?꾨즺!
??由щ럭 ????꾨즺: data/.../reviews.txt
```

## ?좑툘 二쇱쓽?ы빆

### 1. 由щ럭媛 ?녿뒗 ?곹뭹
- 由щ럭 ??씠 ?녾굅??由щ럭媛 0媛쒖씤 寃쎌슦
- reviews.txt ?뚯씪???앹꽦?섏? ?딆쓬
- ?먮윭 ?놁씠 ?뺤긽 ?꾨즺??

### 2. ?섏씠吏 濡쒕뵫 ?쒓컙
- 由щ럭媛 留롮쓣?섎줉 ?쒓컙 ?뚯슂
- ?명꽣???띾룄???곕씪 蹂??
- 釉뚮씪?곗? ?쒖떆 紐⑤뱶?먯꽌 ?뺤씤 沅뚯옣

### 3. 由щ럭 ?댁슜
- ?띿뒪?몃쭔 ?섏쭛 (?ъ쭊? 誘명룷??
- 蹂꾩젏, ?묒꽦??ID??誘명룷??(異붽? 媛??
- ?쒖꽌???섏씠吏 ?쒖떆 ?쒖꽌?濡?

## ?뵩 ?ν썑 ?뺤옣 媛??湲곕뒫

### ?꾩옱 援ы쁽: ??
- [x] 由щ럭 ?띿뒪???섏쭛
- [x] ?섏씠吏?ㅼ씠???먮룞 泥섎━
- [x] ?띿뒪???뚯씪 ???

### ?ν썑 異붽? 媛?? ?뮕
- [ ] 由щ럭 ?묒꽦??ID ?섏쭛
- [ ] 蹂꾩젏 ?섏쭛
- [ ] 由щ럭 ?묒꽦 ?좎쭨 ?섏쭛
- [ ] 由щ럭 ?대?吏 ?ㅼ슫濡쒕뱶
- [ ] CSV/JSON ?뺤떇?쇰줈 ???
- [ ] 由щ럭 媛먯꽦 遺꾩꽍 (湲띿젙/遺??

## ?뱷 ?섏젙???뚯씪

1. **src/product_detail_crawler.py**
   - ?대?吏 ??됲꽣 媛쒖꽑 (`img.s-lazy` 異붽?)

2. **src/review_crawler.py** (NEW!)
   - 由щ럭 ?щ·留??꾨떞 紐⑤뱢

3. **src/oliveyoung_crawler.py**
   - ReviewCrawler ?듯빀

4. **app_v2.py**
   - "由щ럭???섏쭛" 泥댄겕諛뺤뒪 異붽?
   - 由щ럭 ?щ·留?濡쒖쭅 ?듯빀

## ?럦 ?낃렇?덉씠???꾨즺!

**v2.3???듭떖:**
- ?뺥솗???대?吏 異붿텧
- ?먮룞 由щ럭 ?섏쭛
- ?ъ슜???좏깮 媛?ν븳 ?듭뀡

---

**?뚯뒪??URL:** https://www.oliveyoung.co.kr/store/goods/getGoodsDetail.do?goodsNo=A000000237817


---

# 蹂寃??ы빆 v2.2

## ?렞 二쇱슂 媛쒖꽑 ?ы빆

### 1. ?대뜑紐??뺤떇 蹂寃?

**蹂寃???**
```
data/?쒖쑉_?щ튆?좎옄_鍮꾪?誘??ㅼ뾽?⑺뤌_20251112_153045/
```
- ??꾩뒪?ы봽 ?ы븿 (?꾩썡???쒕텇珥?
- 媛숈? ?곹뭹???щ윭 踰??щ·留곹븯硫??대뜑媛 ?щ윭 媛??앷?

**蹂寃???**
```
data/251112_?쒖쑉 ?щ튆?좎옄 鍮꾪?誘??ㅼ뾽?⑺뤌/
```
- ?좎쭨留??ы븿 (YYMMDD ?뺤떇)
- 怨듬갚 ?좎? (媛?낆꽦 ?μ긽)
- 媛숈? ??媛숈? ?곹뭹? 媛숈? ?대뜑?????(??뼱?곌린)

**?μ젏:**
- ?대뜑紐낆씠 吏㏐퀬 源붾걫??
- 媛숈? ???ы겕濡ㅻ쭅 ???먮룞?쇰줈 ?낅뜲?댄듃
- ?뚯씪 ?먯깋湲곗뿉???쎄린 ?ъ?

### 2. ?꾩껜 ?묒뾽 ?대뜑 ?닿린 湲곕뒫

**?꾩튂:** ?ъ씠?쒕컮 ??"?뱛 ?묒뾽 ?대뜑" ?뱀뀡

**湲곕뒫:**
- "?뱚 ?꾩껜 ?묒뾽 ?대뜑 ?닿린" 踰꾪듉 ?대┃
- `data/` ?대뜑媛 ?뚯씪 ?먯깋湲곗뿉???먮룞?쇰줈 ?대┝
- 紐⑤뱺 ?щ·留?寃곌낵瑜??쒕늿???뺤씤 媛??

**?ъ슜 ?쒕굹由ъ삤:**
- ?щ윭 ?곹뭹???щ·留곹븳 ????踰덉뿉 ?뺤씤
- 怨쇨굅 ?щ·留??곗씠??李얘린
- ?대뜑 ?뺣━ 諛?諛깆뾽

### 3. ?대?吏 ??됲꽣 ????뺤옣

**蹂寃???** 4媛???됲꽣
```python
selectors = [
    ".detail_cont img",
    "#artcInfo img",
    ".goods_detail_cont img",
    "#detail_img_expand img"
]
```

**蹂寃???** 10媛???됲꽣
```python
selectors = [
    ".detail_cont img",                    # ?곸꽭 ?ㅻ챸 而⑦뀒?대꼫
    "#artcInfo img",                        # ?곹뭹 ?뺣낫 ?곸뿭
    ".prd_detail_box img",                  # ?곹뭹 ?곸꽭 諛뺤뒪
    ".detail_info_wrap img",                # ?곸꽭 ?뺣낫 ?섑띁
    "#gdasDetail img",                      # ?곹뭹 ?곸꽭 ID
    ".goods_detail_cont img",               # ?곹뭹 ?곸꽭 而⑦뀗痢?
    "#detail_img_expand img",               # ?뺤옣 ?대?吏 ?곸뿭
    ".prd_detail img",                      # ?곹뭹 ?곸꽭
    "div[class*='detail'] img",             # detail ?대옒???ы븿
    "div[id*='detail'] img",                # detail ID ?ы븿
]
```

**?④낵:**
- ?щ━釉뚯쁺 ?섏씠吏 援ъ“ 蹂寃쎌뿉?????媛??
- ?ㅼ뼇???곹뭹 ?섏씠吏 ?덉씠?꾩썐 吏??
- ?대?吏 異붿텧 ?깃났瑜??μ긽

## ?뱚 ?대뜑 援ъ“ ?덉떆

### 蹂寃???
```
Oliveyoung/
?쒋?? data/
??  ?쒋?? 251112_?쒖쑉 ?щ튆?좎옄 鍮꾪?誘??ㅼ뾽?⑺뤌/
??  ??  ?쒋?? product_detail_merged.jpg
??  ??  ?쒋?? product_info.json
??  ??  ?붴?? product_info.csv
??  ?쒋?? 251112_?쇱슫?쒕옪 ?먯옉?섎Т ?섎텇 ?좊꼫/
??  ??  ?쒋?? product_detail_merged.jpg
??  ??  ?쒋?? product_info.json
??  ??  ?붴?? product_info.csv
??  ?붴?? 251113_硫붾뵒???고듃由?留덉뒪?ы뙥/
??      ?쒋?? product_detail_merged.jpg
??      ?쒋?? product_info.json
??      ?붴?? product_info.csv
```

## ?렓 UI 媛쒖꽑

### ?ъ씠?쒕컮 援ъ“
```
?숋툘 ?ㅼ젙
?쒋? [ ] 釉뚮씪?곗? ?쒖떆
?붴? ????뺤떇: ??both

?뵩 ?щ·???곹깭
?쒋? ?띰툘 ?ㅽ뻾 以?
?붴? [醫낅즺]

?뱛 ?묒뾽 ?대뜑              ??NEW!
?붴? [?뱚 ?꾩껜 ?묒뾽 ?대뜑 ?닿린]  ??NEW!

?뱶 ?щ·留??덉뒪?좊━
?쒋? 1. ?쒖쑉 ?щ튆?좎옄...
?? ?붴? [?뱚 ?대뜑 ?닿린]
?붴? 2. ?쇱슫?쒕옪 ?먯옉?섎Т...
   ?붴? [?뱚 ?대뜑 ?닿린]
```

## ?뵩 湲곗닠???몃??ы빆

### ?대뜑紐??앹꽦 濡쒖쭅
```python
# ?뚯씪紐낆뿉 ?ъ슜?????녿뒗 臾몄옄 ?쒓굅
safe_name = "".join(c for c in product_name
                   if c.isalnum() or c in (' ', '-', '_')).strip()
safe_name = safe_name.replace(' ', ' ')  # 怨듬갚 ?좎?

# ?좎쭨留?異붽? (YYMMDD ?뺤떇)
date_str = datetime.now().strftime("%y%m%d")
folder_name = f"{date_str}_{safe_name}"
```

### ?묒뾽 ?대뜑 ?닿린
```python
data_folder = os.path.join(os.getcwd(), "data")
if os.path.exists(data_folder):
    open_folder(data_folder)  # ?뚮옯?쇰퀎 紐낅졊???먮룞 泥섎━
else:
    st.warning("?꾩쭅 ?щ·留곹븳 ?곗씠?곌? ?놁뒿?덈떎")
```

## ?뱤 ?ъ슜 ?덉떆

### 媛숈? ???ы겕濡ㅻ쭅
```
1李??щ·留? 251112_?쒖쑉 ?щ튆?좎옄 鍮꾪?誘??ㅼ뾽?⑺뤌/
            ??product_detail_merged.jpg (2.5MB)

2李??щ·留? 251112_?쒖쑉 ?щ튆?좎옄 鍮꾪?誘??ㅼ뾽?⑺뤌/  (媛숈? ?대뜑)
            ??product_detail_merged.jpg (2.5MB, ??뼱?곌린??
```

### ?ㅻⅨ ???щ·留?
```
11??12?? 251112_?쒖쑉 ?щ튆?좎옄 鍮꾪?誘??ㅼ뾽?⑺뤌/
11??13?? 251113_?쒖쑉 ?щ튆?좎옄 鍮꾪?誘??ㅼ뾽?⑺뤌/  (???대뜑)
```

## ?좑툘 二쇱쓽?ы빆

### ??뼱?곌린 ?숈옉
- **媛숈? ??媛숈? ?곹뭹**: ?먮룞?쇰줈 ??뼱?곌린??
- **?ㅻⅨ ??媛숈? ?곹뭹**: 蹂꾨룄 ?대뜑?????
- **以묒슂 ?곗씠??*: ?щ·留??꾩뿉 諛깆뾽 沅뚯옣

### ?대뜑紐?洹쒖튃
- ?뚰뙆踰? ?レ옄, 怨듬갚, `-`, `_`留??ъ슜
- ?뱀닔臾몄옄???먮룞?쇰줈 ?쒓굅??
- ?? `"?쒖쑉/?щ튆?좎옄"` ??`"?쒖쑉?щ튆?좎옄"`

## ?? ?낃렇?덉씠??諛⑸쾿

湲곗〈 v2.1?먯꽌 v2.2濡??낃렇?덉씠??
1. 肄붾뱶???먮룞?쇰줈 ?낅뜲?댄듃??
2. 湲곗〈 data ?대뜑??洹몃?濡??좎???
3. ?덈줈 ?щ·留곹븯???곗씠?곕??????뺤떇 ?곸슜

## 踰꾩쟾 鍮꾧탳

| 湲곕뒫 | v2.1 | v2.2 |
|-----|------|------|
| ?대뜑紐?| `?곹뭹紐?20251112_153045` | `251112_?곹뭹紐? |
| 怨듬갚 泥섎━ | `_`濡?蹂??| 怨듬갚 ?좎? |
| ?쒓컙 ?뺣낫 | ?쒕텇珥??ы븿 | ?좎쭨留?|
| ?꾩껜 ?대뜑 ?닿린 | ??| ??|
| ?대?吏 ??됲꽣 | 4媛?| 10媛?|
| ?ы겕濡ㅻ쭅 | 以묐났 ?대뜑 ?앹꽦 | ??뼱?곌린 |

---

**v2.2 ?낅뜲?댄듃 ?꾨즺! ?럦**


---

# 蹂寃??ы빆 v2.1

## ?낅뜲?댄듃 ?댁슜

### 1. ?곸꽭 吏꾪뻾 ?곹솴 ?쒖떆 (?대?吏 ?ㅼ슫濡쒕뱶)

**蹂寃??ы빆:**
- ?대?吏 ?ㅼ슫濡쒕뱶 以?媛쒕퀎 ?대?吏 吏꾪뻾瑜??쒖떆
- 蹂묓빀 ?묒뾽 ?꾨즺 硫붿떆吏 異붽?
- ?뚯씪 ?ш린 ?뺣낫 ?쒖떆

**湲곗닠??援ы쁽:**
- `product_detail_crawler.py`??`download_and_merge_images()` 硫붿꽌?쒖뿉 `progress_callback` ?뚮씪誘명꽣 異붽?
- 肄쒕갚 ?⑥닔瑜??듯빐 ?ㅼ떆媛?吏꾪뻾 ?곹솴 ?꾨떖
- Streamlit 吏꾪뻾諛붿? ?곕룞?섏뿬 ?ㅼ슫濡쒕뱶 ?④퀎蹂??낅뜲?댄듃

**?ъ슜?먭? 蹂대뒗 硫붿떆吏:**
```
?뮶 ?대?吏 ?ㅼ슫濡쒕뱶 以?.. [1/15]
?뮶 ?대?吏 ?ㅼ슫濡쒕뱶 以?.. [2/15]
...
?뮶 ?대?吏 ?ㅼ슫濡쒕뱶 以?.. [15/15]
?뵪 ?대?吏 蹂묓빀 以?.. (?꾩껜 ?ш린: 800x12000)
??蹂묓빀 ?꾨즺! (?뚯씪 ?ш린: 2.45 MB)
```

### 2. URL ???꾩꽦

**蹂寃??ы빆:**
- URL 吏곸젒 ?낅젰 ??쓽 吏꾪뻾 ?곹솴 ?쒖떆 援ы쁽
- ?ㅼ썙??寃????낵 ?숈씪???곸꽭 吏꾪뻾瑜??쒖떆
- ?대뜑 ?닿린 湲곕뒫 異붽?
- ?대?吏 誘몃━蹂닿린 湲곕뒫 異붽?

**吏꾪뻾 ?④퀎:**
1. ?뵕 ?곹뭹 ?섏씠吏濡??대룞 以?.. (10%)
2. ?뱷 ?곹뭹紐?異붿텧 以?.. (20%)
3. ?뱚 ?대뜑 ?앹꽦 以?.. (30%)
4. ?뵖 '?붾낫湲? 踰꾪듉 ?대┃ 以?.. (40%)
5. ?벝 ?대?吏 URL 異붿텧 以?.. (50%)
6. ?뮶 ?대?吏 ?ㅼ슫濡쒕뱶 以?.. [N/M] (60-80%)
7. ?뵪 ?대?吏 蹂묓빀 以?.. (80%)
8. ?뮶 ?곗씠?????以?.. (90%)
9. ???꾨즺! (100%)

### 3. 媛쒖꽑???ъ슜??寃쏀뿕

**異붽???湲곕뒫:**
- ?대?吏 媛쒖닔 ?쒖떆 (?? "珥?15媛?)
- ?꾩옱 ?ㅼ슫濡쒕뱶 以묒씤 ?대?吏 踰덊샇 ?쒖떆 (?? "[3/15]")
- 蹂묓빀???대?吏 ?ш린 ?쒖떆 (?? "?꾩껜 ?ш린: 800x12000")
- 理쒖쥌 ?뚯씪 ?ш린 ?쒖떆 (?? "2.45 MB")

## ?ъ슜 諛⑸쾿

### ?ㅽ뻾
```bash
cd /Users/changhyunpark/Documents/Oliveyoung
source venv/bin/activate
streamlit run app_v2.py
```

### 吏꾪뻾 ?곹솴 ?뺤씤
- ?щ·留?以??붾㈃???ㅼ떆媛?吏꾪뻾 ?곹솴???쒖떆?⑸땲??
- 吏꾪뻾諛붾줈 ?꾩껜 吏꾪뻾瑜좎쓣 ?뺤씤?????덉뒿?덈떎
- 媛??④퀎蹂??곸꽭 硫붿떆吏媛 ?쒖떆?⑸땲??
- ?대?吏 ?ㅼ슫濡쒕뱶 ???꾩옱 紐?踰덉㎏ ?대?吏?몄? ?쒖떆?⑸땲??

## 湲곗닠???몃??ы빆

### 肄쒕갚 ?⑥닔 援ъ“
```python
def progress_callback(message: str, current: int, total: int):
    """
    Args:
        message: ?쒖떆??硫붿떆吏 (?? "?뮶 ?대?吏 ?ㅼ슫濡쒕뱶 以?.. [3/15]")
        current: ?꾩옱 吏꾪뻾 ??(?? 3)
        total: ?꾩껜 媛쒖닔 (?? 15)
    """
    status_text.text(message)
    progress = base_progress + (current / total) * progress_range
    progress_bar.progress(progress)
```

### 吏꾪뻾瑜?怨꾩궛
- ?ㅼ썙??寃???? 0.7 ~ 0.9 踰붿쐞?먯꽌 ?ㅼ슫濡쒕뱶 吏꾪뻾瑜??쒖떆
- URL ?낅젰 ?? 0.6 ~ 0.8 踰붿쐞?먯꽌 ?ㅼ슫濡쒕뱶 吏꾪뻾瑜??쒖떆
- 媛??④퀎蹂?怨좎젙 吏꾪뻾瑜?+ ?대?吏 ?ㅼ슫濡쒕뱶 ?숈쟻 吏꾪뻾瑜?

## ?뚯뒪???쒕굹由ъ삤

1. **?ㅼ썙??寃?됱쑝濡??щ·留?*
   - 寃?됱뼱 ?낅젰 ???щ·留??쒖옉
   - 媛??④퀎蹂?硫붿떆吏 ?뺤씤
   - ?대?吏 ?ㅼ슫濡쒕뱶 以?"[N/M]" ?뺥깭濡??쒖떆?섎뒗吏 ?뺤씤
   - 蹂묓빀 ?꾨즺 硫붿떆吏? ?뚯씪 ?ш린 ?뺤씤

2. **URL 吏곸젒 ?낅젰?쇰줈 ?щ·留?*
   - ?곹뭹 URL ?낅젰 ???щ·留??쒖옉
   - 吏꾪뻾 ?곹솴???ㅼ썙??寃?됯낵 ?숈씪?섍쾶 ?쒖떆?섎뒗吏 ?뺤씤
   - 寃곌낵 ?쒖떆 諛??대뜑 ?닿린 踰꾪듉 ?숈옉 ?뺤씤

3. **????대?吏 泥섎━**
   - ?대?吏媛 留롮? ?곹뭹 ?좏깮 (20媛??댁긽)
   - 媛??대?吏 ?ㅼ슫濡쒕뱶 吏꾪뻾瑜좎씠 ?뺥솗???쒖떆?섎뒗吏 ?뺤씤
   - 蹂묓빀 ?쒓컙???ㅻ옒 嫄몃┫ ??"蹂묓빀 以?.." 硫붿떆吏 ?좎? ?뺤씤

## ?ν썑 媛쒖꽑 媛???ы빆

1. **蹂묓빀 ?④퀎 吏꾪뻾瑜?*: ?꾩옱??蹂묓빀 ?쒖옉 ????踰덈쭔 硫붿떆吏 ?쒖떆, 媛쒕퀎 ?대?吏 蹂묓빀 吏꾪뻾瑜좊룄 ?쒖떆 媛??
2. **?먮윭 泥섎━ 媛쒖꽑**: ?쇰? ?대?吏 ?ㅼ슫濡쒕뱶 ?ㅽ뙣 ??怨꾩냽 吏꾪뻾?섏?留? ?ㅽ뙣???대?吏 媛쒖닔 ?쒖떆
3. **蹂묐젹 ?ㅼ슫濡쒕뱶**: ?꾩옱 ?쒖감 ?ㅼ슫濡쒕뱶, 蹂묐젹 泥섎━濡??띾룄 ?μ긽 媛??
4. **?대?吏 理쒖쟻???듭뀡**: ?덉쭏/?ш린 議곗젅 ?듭뀡 異붽?

## 踰꾩쟾 鍮꾧탳

| 湲곕뒫 | v2.0 (app.py) | v2.1 (app_v2.py) |
|-----|---------------|------------------|
| 吏꾪뻾 ?곹솴 ?쒖떆 | ?④퀎蹂?怨좎젙 硫붿떆吏 | ?곸꽭 吏꾪뻾瑜??ы븿 |
| ?대?吏 ?ㅼ슫濡쒕뱶 | ?꾩껜 媛쒖닔留??쒖떆 | [N/M] ?뺥깭濡?媛쒕퀎 ?쒖떆 |
| 蹂묓빀 ?꾨즺 ?뚮┝ | ?놁쓬 | ?뚯씪 ?ш린 ?ы븿 ?쒖떆 |
| URL ??| 湲곕낯 湲곕뒫 | ?꾩쟾??吏꾪뻾 ?곹솴 ?쒖떆 |
| ?대뜑 ?닿린 | ?ㅼ썙????쭔 | ?묒そ ??紐⑤몢 吏??|


---


